(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[71410],{49540:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return r},metadata:function(){return l},toc:function(){return s},default:function(){return p}});var o=n(22122),i=n(19756),a=(n(67294),n(3905)),r={},l={unversionedId:"react/virtual-scroll",id:"react/virtual-scroll",isDocsHomePage:!1,title:"Virtual Scroll",description:"One virtual scrolling solution to consider for your Ionic React app is Virtuoso. This guide will go over how to install Virtuoso into your Ionic React application and use it with other Ionic components.",source:"@site/docs/react/virtual-scroll.md",sourceDirName:"react",slug:"/react/virtual-scroll",permalink:"/docs/react/virtual-scroll",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/docs/react/virtual-scroll.md",version:"current",frontMatter:{},sidebar:"docs",previous:{title:"React Navigation",permalink:"/docs/react/navigation"},next:{title:"Slides",permalink:"/docs/react/slides"}},s=[{value:"Installation",id:"installation",children:[]},{value:"Usage",id:"usage",children:[]},{value:"A Note on Ionic Components",id:"a-note-on-ionic-components",children:[]},{value:"Further Reading",id:"further-reading",children:[]}],c={toc:s};function p(e){var t=e.components,n=(0,i.Z)(e,["components"]);return(0,a.kt)("wrapper",(0,o.Z)({},c,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"One virtual scrolling solution to consider for your Ionic React app is ",(0,a.kt)("a",{parentName:"p",href:"https://virtuoso.dev/"},"Virtuoso"),". This guide will go over how to install ",(0,a.kt)("inlineCode",{parentName:"p"},"Virtuoso")," into your Ionic React application and use it with other Ionic components."),(0,a.kt)("h2",{id:"installation"},"Installation"),(0,a.kt)("p",null,"To setup the virtual scroller, first install ",(0,a.kt)("inlineCode",{parentName:"p"},"react-virtuoso"),":"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-shell"},"npm install react-virtuoso\n")),(0,a.kt)("h2",{id:"usage"},"Usage"),(0,a.kt)("p",null,"There are a few components that Virtuoso includes, but this example will use the ",(0,a.kt)("inlineCode",{parentName:"p"},"Virtuoso")," component. This component should be added inside of your ",(0,a.kt)("inlineCode",{parentName:"p"},"IonContent")," component:"),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-typescript"},"import React from 'react';\nimport { Virtuoso } from 'react-virtuoso';\nimport {\n  IonAvatar,\n  IonContent, \n  IonItem,\n  IonLabel,\n  IonPage\n} from '@ionic/react';\nconst Home: React.FC = () => (\n  <IonPage>\n    <IonContent>\n      <Virtuoso\n        style={{ height: '100%' }}\n        totalCount={100}\n        itemContent={(index) => {\n          return (\n            <div style={{ height: '56px' }}>\n              <IonItem>\n                <IonAvatar slot=\"start\">\n                  <img src=\"https://picsum.photos/seed/picsum/40/40\" />\n                </IonAvatar>\n                <IonLabel>{ index }</IonLabel>\n              </IonItem>\n            </div>\n          )\n        }}\n      />\n    </IonContent>\n  </IonPage>\n)\nexport default Home;\n")),(0,a.kt)("p",null,"After adding the ",(0,a.kt)("inlineCode",{parentName:"p"},"Virtuoso")," component to our page, we need to define the size of the virtual scroll container. In this case, we want the container to take up the full height of the screen which we can do by adding ",(0,a.kt)("inlineCode",{parentName:"p"},"style={{ height: '100%' }}"),"."),(0,a.kt)("p",null,"Next, we want to define the total number of items to render via the ",(0,a.kt)("inlineCode",{parentName:"p"},"totalCount")," property."),(0,a.kt)("p",null,"From there, we can use the ",(0,a.kt)("inlineCode",{parentName:"p"},"itemContent")," property to pass a function that will be called to render each item in our virtual scroll content."),(0,a.kt)("p",null,"An important thing to note here is the ",(0,a.kt)("inlineCode",{parentName:"p"},"div")," that wraps our ",(0,a.kt)("inlineCode",{parentName:"p"},"IonItem")," component. When lazy loading Ionic components, there may be a few frames where the component is loaded but the styles have not loaded in. When this happens, the component's dimension will be ",(0,a.kt)("inlineCode",{parentName:"p"},"0"),", and Virtuoso may throw an error. This is because Virtuoso needs distinct positions for each item it renders, and it cannot determine that when a component's dimension is ",(0,a.kt)("inlineCode",{parentName:"p"},"0"),"."),(0,a.kt)("h2",{id:"a-note-on-ionic-components"},"A Note on Ionic Components"),(0,a.kt)("p",null,"Certain Ionic Framework functionality is currently not compatible with virtual scrolling. Features such as collapsible large titles, ",(0,a.kt)("inlineCode",{parentName:"p"},"ion-infinite-scroll"),", and ",(0,a.kt)("inlineCode",{parentName:"p"},"ion-refresher")," rely on being able to scroll on ",(0,a.kt)("inlineCode",{parentName:"p"},"ion-content")," itself, and as a result will not work when using virtual scrolling."),(0,a.kt)("p",null,"We are working to improve compatibility between these components and virtual scrolling solutions. You can follow progress and give feedback here: ",(0,a.kt)("a",{parentName:"p",href:"https://github.com/ionic-team/ionic-framework/issues/23437"},"https://github.com/ionic-team/ionic-framework/issues/23437"),"."),(0,a.kt)("h2",{id:"further-reading"},"Further Reading"),(0,a.kt)("p",null,"This guide only covers a small portion of what ",(0,a.kt)("inlineCode",{parentName:"p"},"Virtuoso")," is capable of. For more details, please see the ",(0,a.kt)("a",{parentName:"p",href:"https://virtuoso.dev/"},"Virtuoso documentation"),"."))}p.isMDXComponent=!0}}]);