(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[22662],{83515:function(e,n,t){"use strict";t.r(n),t.d(n,{frontMatter:function(){return l},metadata:function(){return r},toc:function(){return s},default:function(){return p}});var i=t(22122),a=t(19756),o=(t(67294),t(3905)),l={},r={unversionedId:"troubleshooting/runtime",id:"troubleshooting/runtime",isDocsHomePage:!1,title:"Runtime Issues",description:"Blank App",source:"@site/docs/troubleshooting/runtime.md",sourceDirName:"troubleshooting",slug:"/troubleshooting/runtime",permalink:"/docs/troubleshooting/runtime",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/docs/troubleshooting/runtime.md",version:"current",frontMatter:{},sidebar:"docs",previous:{title:"Build Errors",permalink:"/docs/troubleshooting/build"},next:{title:"Native Errors",permalink:"/docs/troubleshooting/native"}},s=[{value:"Blank App",id:"blank-app",children:[]},{value:"Directive Not Working",id:"directive-not-working",children:[]},{value:"Click Delays",id:"click-delays",children:[]},{value:"Angular Change Detection",id:"angular-change-detection",children:[]},{value:"Cordova plugins not working in the browser",id:"cordova-plugins-not-working-in-the-browser",children:[]},{value:"Multiple instances of a provider",id:"multiple-instances-of-a-provider",children:[]}],c={toc:s};function p(e){var n=e.components,t=(0,a.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,i.Z)({},c,t,{components:n,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"blank-app"},"Blank App"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"I have no errors in my app. Why does it show a blank screen?")),(0,o.kt)("p",null,"There are several different reasons this can happen. If you are unable to find a solution on the ",(0,o.kt)("a",{parentName:"p",href:"https://forum.ionicframework.com"},"Ionic forums"),", make sure:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Polyfills are not included for older browser/versions of android")),(0,o.kt)("p",null,"For projects with ",(0,o.kt)("inlineCode",{parentName:"p"},"@angular/cli@7.3")," or above, polyfills will automatically be included. For project created before that, polyfills need to be manually enabled."),(0,o.kt)("p",null,"In ",(0,o.kt)("inlineCode",{parentName:"p"},"src/polyfills.ts"),", you must enabled all ES6 polyfills for Android 4.4 support."),(0,o.kt)("p",null,"Alternatively, a project could be updated to use the latest release of the ",(0,o.kt)("inlineCode",{parentName:"p"},"@angular/cli")," package & ",(0,o.kt)("inlineCode",{parentName:"p"},"@angular-devkit")," packages and include the ",(0,o.kt)("inlineCode",{parentName:"p"},"es5BrowserSupport")," option in the ",(0,o.kt)("inlineCode",{parentName:"p"},"angular.json"),"'s build options object:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-diff"},'        "input": "src/global.scss"\n      }\n    ],\n-   "scripts": []\n+   "scripts": [],\n+   "es5BrowserSupport": true\n  },\n  "configurations": {\n    "production": {\n')),(0,o.kt)("p",null,"This will automatically include the polyfills for older browsers that need them."),(0,o.kt)("h2",{id:"directive-not-working"},"Directive Not Working"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Why is my custom component/directive not working?")),(0,o.kt)("p",null,"There are a few things you can check. Make sure:"),(0,o.kt)("ul",null,(0,o.kt)("li",{parentName:"ul"},"Your selector doesn't have any misspellings."),(0,o.kt)("li",{parentName:"ul"},"You're using the selector correctly as an attribute, element or class."),(0,o.kt)("li",{parentName:"ul"},"Your selector has the proper syntax:",(0,o.kt)("ul",{parentName:"li"},(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"[attr]")," if it's an attribute selector"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},"element")," if it's an element selector"),(0,o.kt)("li",{parentName:"ul"},(0,o.kt)("inlineCode",{parentName:"li"},".class")," if it's a class selector")))),(0,o.kt)("p",null,"Here's an example using an attribute selector:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"@Directive({\n  selector: '[my-dir]' // <-- [my-dir] because it is an attribute\n})                     // Could be my-dir, [my-dir], .my-dir\nclass MyDir {\n  constructor() {\n    console.log('I'm alive!');\n  }\n}\n\n@Component({\n  // We add my-dir as an attribute to match the directive's selector\n  template: `<div my-dir>Hello World</div>`,\n\n  // Alternatively, if you were attaching the directive to an element it would be:\n  // template: `<my-dir>Hello World</my-dir>`\n  // and if you were attaching by class the template would be:\n  // template: `<div class=\"my-dir\">Hello World</div>`\n\n  directives: [MyDir] // <-- Don't forget me! (only if your ionic-angular version is below RC0)\n})\nclass MyPage { }\n")),(0,o.kt)("h2",{id:"click-delays"},"Click Delays"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Why is there a delay on my click event?")),(0,o.kt)("p",null,"In general, we recommend only adding ",(0,o.kt)("inlineCode",{parentName:"p"},"(click)")," events to elements that are\nnormally clickable. This includes ",(0,o.kt)("inlineCode",{parentName:"p"},"<button>")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"<a>")," elements. This improves\naccessibility as a screen reader will be able to tell that the element is\nclickable."),(0,o.kt)("p",null,"However, you may need to add a ",(0,o.kt)("inlineCode",{parentName:"p"},"(click)")," event to an element that is not\nnormally clickable. When you do this you may experience a ",(0,o.kt)("inlineCode",{parentName:"p"},"300ms")," delay from the\ntime you click the element to the event firing. To remove this delay, you can\nadd the ",(0,o.kt)("inlineCode",{parentName:"p"},"tappable")," attribute to your element."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},' <div tappable (click)="doClick()">I am clickable!</div>\n')),(0,o.kt)("h2",{id:"angular-change-detection"},"Angular Change Detection"),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Why does Angular change detection run very frequently when my components are initializing?")),(0,o.kt)("p",null,"Angular uses a library called ",(0,o.kt)("a",{parentName:"p",href:"https://github.com/angular/angular/tree/master/packages/zone.js/"},"zone.js"),"\nwhich helps it determine when to run change detection."),(0,o.kt)("p",null,"As of zone.js ",(0,o.kt)("inlineCode",{parentName:"p"},"0.8.27"),", certain APIs for Web Components also cause change\ndetection to run. This can have the undesirable side effect of your app\nslowing down when a large number of components are initializing."),(0,o.kt)("p",null,"To prevent this from happening, the zone.js flag that manages this portion of\nchange detection can be disabled. In the ",(0,o.kt)("inlineCode",{parentName:"p"},"src")," directory of your application,\ncreate a file called ",(0,o.kt)("inlineCode",{parentName:"p"},"zone-flags.ts"),". Place the following code into the file:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"(window as any).__Zone_disable_customElements = true;\n")),(0,o.kt)("p",null,"The ",(0,o.kt)("inlineCode",{parentName:"p"},"zone-flags.ts")," file then needs to be imported into your application's\n",(0,o.kt)("inlineCode",{parentName:"p"},"polyfills.ts")," file. Be sure to import it ",(0,o.kt)("em",{parentName:"p"},"before")," ",(0,o.kt)("inlineCode",{parentName:"p"},"zone.js")," is imported:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"...\n\nimport './zone-flags.ts';\nimport 'zone.js/dist/zone'; // Included with Angular CLI\n\n...\n")),(0,o.kt)("p",null,"This change will only affect applications that depend on zone.js ",(0,o.kt)("inlineCode",{parentName:"p"},"0.8.27")," or\nnewer. Older versions will not be affected by this change."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: This flag is automatically included when creating an Ionic app via\nthe Ionic CLI.")),(0,o.kt)("h2",{id:"cordova-plugins-not-working-in-the-browser"},"Cordova plugins not working in the browser"),(0,o.kt)("p",null,"At some point in your development you may, try to call Cordova plugin, but get a\nwarning:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"[Warning] Native: tried calling StatusBar.styleDefault, but Cordova is not\navailable. Make sure to include cordova.js or run in a device/simulator\n(app.bundle.js, line 83388)\n")),(0,o.kt)("p",null,"This happens when you try to call a native plugin, but Cordova isn't available.\nThankfully, Ionic Native will print out a nice warning, instead of an error."),(0,o.kt)("p",null,"In other cases where the plugin is not being used through Ionic Native, plugins\ncan print a much more obscure warning."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"EXCEPTION: Error: Uncaught (in promise): TypeError: undefined is not an object\n(evaluating 'navigator.camera.getPicture')\n")),(0,o.kt)("p",null,"If this happens, test the plugin on a real device or simulator."),(0,o.kt)("h2",{id:"multiple-instances-of-a-provider"},"Multiple instances of a provider"),(0,o.kt)("p",null,"If you inject a provider in every component because you want it available to all\nof them you will end up with multiple instances of the provider. You should\ninject the provider once in the parent component if you want it to be available\nto the child components."),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"let id = 0;\nexport class MyService {\n  id: number;\n\n  constructor() {\n    this.id = id++;\n  }\n}\n\n@Component({\n  selector: 'my-component',\n  template: 'Hello World',\n  providers: [MyService] // <-- Creates a new instance of MyService :(\n})                       // Unnecessary because MyService is in App's providers\nclass MyComp {\n  // id is 1, s is a different MyService instance than MyApp\n  constructor(s: MyService) {\n    console.log('MyService id is: ' + s.id);\n  }\n}\n\n@Component({\n  template: '<my-component></my-component>',\n  providers: [MyService], // MyService only needs to be here\n  directives: [MyComp]\n})\nclass MyApp {\n  // id is 0\n  constructor(s: MyService) {\n    console.log('MyService id is: ' + s.id);\n  }\n}\n")))}p.isMDXComponent=!0}}]);