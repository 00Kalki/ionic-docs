(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[6457],{61519:function(e,t,n){"use strict";n.r(t),n.d(t,{frontMatter:function(){return d},metadata:function(){return s},toc:function(){return u},default:function(){return m}});var a=n(22122),r=n(19756),o=(n(67294),n(3905)),i=n(41395),l=n(58215),d={title:"ion-route"},s={unversionedId:"api/route",id:"api/route",isDocsHomePage:!1,title:"ion-route",description:"The route component takes a component and renders it when the Browser URL matches the url property.",source:"@site/docs/api/route.md",sourceDirName:"api",slug:"/api/route",permalink:"/docs/api/route",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/docs/api/route.md",version:"current",frontMatter:{title:"ion-route"},sidebar:"api",previous:{title:"ion-router-outlet",permalink:"/docs/api/router-outlet"},next:{title:"ion-route-redirect",permalink:"/docs/api/route-redirect"}},u=[{value:"Navigation Hooks",id:"navigation-hooks",children:[]},{value:"Interfaces",id:"interfaces",children:[]},{value:"Usage",id:"usage",children:[]},{value:"Properties",id:"properties",children:[{value:"beforeEnter",id:"beforeenter",children:[]},{value:"beforeLeave",id:"beforeleave",children:[]},{value:"component",id:"component",children:[]},{value:"componentProps",id:"componentprops",children:[]},{value:"url",id:"url",children:[]}]},{value:"Events",id:"events",children:[]}],p={toc:u};function m(e){var t=e.components,n=(0,r.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,a.Z)({},p,n,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("p",null,"The route component takes a component and renders it when the Browser URL matches the url property."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Note: this component should only be used with vanilla and Stencil JavaScript projects. For Angular projects, use ",(0,o.kt)("a",{parentName:"p",href:"../router-outlet"},(0,o.kt)("inlineCode",{parentName:"a"},"ion-router-outlet"))," and the Angular router.")),(0,o.kt)("h2",{id:"navigation-hooks"},"Navigation Hooks"),(0,o.kt)("p",null,"Navigation hooks can be used to perform tasks or act as navigation guards. Hooks are used by providing functions to the ",(0,o.kt)("inlineCode",{parentName:"p"},"beforeEnter")," and ",(0,o.kt)("inlineCode",{parentName:"p"},"beforeLeave")," properties on each ",(0,o.kt)("inlineCode",{parentName:"p"},"ion-route"),". Returning ",(0,o.kt)("inlineCode",{parentName:"p"},"true")," allows navigation to proceed, while returning ",(0,o.kt)("inlineCode",{parentName:"p"},"false")," causes it to be cancelled. Returning an object of type ",(0,o.kt)("inlineCode",{parentName:"p"},"NavigationHookOptions")," allows you to redirect navigation to another page."),(0,o.kt)("h2",{id:"interfaces"},"Interfaces"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"interface NavigationHookOptions {\n  /**\n   * A valid path to redirect navigation to.\n   */\n  redirect: string;\n}\n")),(0,o.kt)("h2",{id:"usage"},"Usage"),(0,o.kt)(i.Z,{defaultValue:"javascript",values:[{value:"javascript",label:"JAVASCRIPT"},{value:"stencil",label:"STENCIL"},{value:"vue",label:"VUE"}],mdxType:"Tabs"},(0,o.kt)(l.Z,{value:"javascript",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<ion-router>\n  <ion-route url="/home" component="page-home"></ion-route>\n  <ion-route url="/dashboard" component="page-dashboard"></ion-route>\n  <ion-route url="/new-message" component="page-new-message"></ion-route>\n  <ion-route url="/login" component="page-login"></ion-route>\n</ion-router>\n')),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-javascript"},"const dashboardPage = document.querySelector('ion-route[url=\"/dashboard\"]');\ndashboardPage.beforeEnter = isLoggedInGuard;\n\nconst newMessagePage = document.querySelector('ion-route[url=\"/dashboard\"]');\nnewMessagePage.beforeLeave = hasUnsavedDataGuard;\n\nconst isLoggedInGuard = async () => {\n  const isLoggedIn = await UserData.isLoggedIn(); // Replace this with actual login validation\n  \n  if (isLoggedIn) {\n    return true;\n  } else {\n    return { redirect: '/login' }; // If a user is not logged in, they will be redirected to the /login page\n  }\n}\n\nconst hasUnsavedDataGuard = async () => {\n  const hasUnsavedData = await checkData(); // Replace this with actual validation\n  \n  if (hasUnsavedData) {\n    return await confirmDiscardChanges();\n  } else {\n    return true;\n  }\n}\n\nconst confirmDiscardChanges = async () => {\n  const alert = document.createElement('ion-alert');\n  alert.header = 'Discard Unsaved Changes?';\n  alert.message = 'Are you sure you want to leave? Any unsaved changed will be lost.';\n  alert.buttons = [\n    {\n      text: 'Cancel',\n      role: 'Cancel',\n    },\n    {\n      text: 'Discard',\n      role: 'destructive',\n    }\n  ];\n  \n  document.body.appendChild(alert);\n  \n  await alert.present();\n  \n  const { role } = await alert.onDidDismiss();\n  \n  return (role === 'Cancel') ? false : true;\n}\n"))),(0,o.kt)(l.Z,{value:"stencil",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-typescript"},"import { Component, h } from '@stencil/core';\nimport { alertController } from '@ionic/core';\n\n@Component({\n  tag: 'router-example',\n  styleUrl: 'router-example.css'\n})\nexport class RouterExample {\n  render() {\n    return (\n      <ion-router>\n        <ion-route url=\"/home\" component=\"page-home\"></ion-route>\n        <ion-route url=\"/dashboard\" component=\"page-dashboard\" beforeEnter={isLoggedInGuard}></ion-route>\n        <ion-route url=\"/new-message\" component=\"page-new-message\" beforeLeave={hasUnsavedDataGuard}></ion-route>\n        <ion-route url=\"/login\" component=\"page-login\"></ion-route>\n      </ion-router>\n    )\n  }\n}\n\nconst isLoggedInGuard = async () => {\n  const isLoggedIn = await UserData.isLoggedIn(); // Replace this with actual login validation\n  \n  if (isLoggedIn) {\n    return true;\n  } else {\n    return { redirect: '/login' }; // If a user is not logged in, they will be redirected to the /login page\n  }\n}\n\nconst hasUnsavedDataGuard = async () => {\n  const hasUnsavedData = await checkData(); // Replace this with actual validation\n  \n  if (hasUnsavedData) {\n    return await confirmDiscardChanges();\n  } else {\n    return true;\n  }\n}\n\nconst confirmDiscardChanges = async () => {\n  const alert = await alertController.create({\n    header: 'Discard Unsaved Changes?',\n    message: 'Are you sure you want to leave? Any unsaved changed will be lost.',\n    buttons: [\n      {\n        text: 'Cancel',\n        role: 'Cancel',\n      },\n      {\n        text: 'Discard',\n        role: 'destructive',\n      }\n    ]\n  });\n  \n  await alert.present();\n  \n  const { role } = await alert.onDidDismiss();\n  \n  return (role === 'Cancel') ? false : true;\n}\n"))),(0,o.kt)(l.Z,{value:"vue",mdxType:"TabItem"},(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-html"},'<template>\n  <ion-router>\n    <ion-route url="/home" component="page-home"></ion-route>\n    <ion-route url="/dashboard" component="page-dashboard" :beforeEnter="isLoggedInGuard"></ion-route>\n    <ion-route url="/new-message" component="page-new-message" :beforeLeave="hasUnsavedDataGuard"></ion-route>\n    <ion-route url="/login" component="page-login"></ion-route>\n  </ion-router>\n</template>\n\n<script>\n  import { alertController } from \'@ionic/vue\';\n\n  const isLoggedInGuard = async () => {\n    const isLoggedIn = await UserData.isLoggedIn(); // Replace this with actual login validation\n    \n    if (isLoggedIn) {\n      return true;\n    } else {\n      return { redirect: \'/login\' }; // If a user is not logged in, they will be redirected to the /login page\n    }\n  }\n  \n  const hasUnsavedDataGuard = async () => {\n    const hasUnsavedData = await checkData(); // Replace this with actual validation\n    \n    if (hasUnsavedData) {\n      return await confirmDiscardChanges();\n    } else {\n      return true;\n    }\n  }\n  \n  const confirmDiscardChanges = async () => {\n    const alert = await alertController.create({\n      header: \'Discard Unsaved Changes?\',\n      message: \'Are you sure you want to leave? Any unsaved changed will be lost.\',\n      buttons: [\n        {\n          text: \'Cancel\',\n          role: \'Cancel\',\n        },\n        {\n          text: \'Discard\',\n          role: \'destructive\',\n        }\n      ]\n    });\n    \n    await alert.present();\n    \n    const { role } = await alert.onDidDismiss();\n    \n    return (role === \'Cancel\') ? false : true;\n  }\n<\/script>\n')))),(0,o.kt)("h2",{id:"properties"},"Properties"),(0,o.kt)("h3",{id:"beforeenter"},"beforeEnter"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Description")),(0,o.kt)("td",{parentName:"tr",align:null},"A navigation hook that is fired when the route tries to enter.",(0,o.kt)("br",null),"Returning ",(0,o.kt)("inlineCode",{parentName:"td"},"true")," allows the navigation to proceed, while returning",(0,o.kt)("br",null),(0,o.kt)("inlineCode",{parentName:"td"},"false")," causes it to be cancelled. Returning a ",(0,o.kt)("inlineCode",{parentName:"td"},"NavigationHookOptions"),(0,o.kt)("br",null),"object causes the router to redirect to the path specified.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attribute")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Type")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"(() => NavigationHookResult \\| Promise<NavigationHookResult>) \\| undefined"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Default")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))))),(0,o.kt)("h3",{id:"beforeleave"},"beforeLeave"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Description")),(0,o.kt)("td",{parentName:"tr",align:null},"A navigation hook that is fired when the route tries to leave.",(0,o.kt)("br",null),"Returning ",(0,o.kt)("inlineCode",{parentName:"td"},"true")," allows the navigation to proceed, while returning",(0,o.kt)("br",null),(0,o.kt)("inlineCode",{parentName:"td"},"false")," causes it to be cancelled. Returning a ",(0,o.kt)("inlineCode",{parentName:"td"},"NavigationHookOptions"),(0,o.kt)("br",null),"object causes the router to redirect to the path specified.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attribute")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Type")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"(() => NavigationHookResult \\| Promise<NavigationHookResult>) \\| undefined"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Default")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))))),(0,o.kt)("h3",{id:"component"},"component"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Description")),(0,o.kt)("td",{parentName:"tr",align:null},"Name of the component to load/select in the navigation outlet (",(0,o.kt)("inlineCode",{parentName:"td"},"ion-tabs"),", ",(0,o.kt)("inlineCode",{parentName:"td"},"ion-nav"),")",(0,o.kt)("br",null),"when the route matches.",(0,o.kt)("br",null),(0,o.kt)("br",null),"The value of this property is not always the tagname of the component to load,",(0,o.kt)("br",null),"in ",(0,o.kt)("inlineCode",{parentName:"td"},"ion-tabs")," it actually refers to the name of the ",(0,o.kt)("inlineCode",{parentName:"td"},"ion-tab")," to select.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attribute")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"component"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Type")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"string"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Default")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))))),(0,o.kt)("h3",{id:"componentprops"},"componentProps"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Description")),(0,o.kt)("td",{parentName:"tr",align:null},"A key value ",(0,o.kt)("inlineCode",{parentName:"td"},"{ 'red': true, 'blue': 'white'}")," containing props that should be passed",(0,o.kt)("br",null),"to the defined component when rendered.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attribute")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Type")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined \\| { [key: string]: any; }"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Default")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"undefined"))))),(0,o.kt)("h3",{id:"url"},"url"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null}),(0,o.kt)("th",{parentName:"tr",align:null}))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Description")),(0,o.kt)("td",{parentName:"tr",align:null},"Relative path that needs to match in order for this route to apply.",(0,o.kt)("br",null),(0,o.kt)("br",null),"Accepts paths similar to expressjs so that you can define parameters",(0,o.kt)("br",null),"in the url /foo/:bar where bar would be available in incoming props.")),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Attribute")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"url"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Type")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"string"))),(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("strong",{parentName:"td"},"Default")),(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"''"))))),(0,o.kt)("h2",{id:"events"},"Events"),(0,o.kt)("table",null,(0,o.kt)("thead",{parentName:"table"},(0,o.kt)("tr",{parentName:"thead"},(0,o.kt)("th",{parentName:"tr",align:null},"Name"),(0,o.kt)("th",{parentName:"tr",align:null},"Description"))),(0,o.kt)("tbody",{parentName:"table"},(0,o.kt)("tr",{parentName:"tbody"},(0,o.kt)("td",{parentName:"tr",align:null},(0,o.kt)("inlineCode",{parentName:"td"},"ionRouteDataChanged")),(0,o.kt)("td",{parentName:"tr",align:null},"Used internally by ",(0,o.kt)("inlineCode",{parentName:"td"},"ion-router")," to know when this route did change.")))))}m.isMDXComponent=!0}}]);