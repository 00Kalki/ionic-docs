(self.webpackChunkionic_docs=self.webpackChunkionic_docs||[]).push([[7961],{84204:function(e,t,a){"use strict";a.r(t),a.d(t,{frontMatter:function(){return i},metadata:function(){return r},toc:function(){return p},default:function(){return d}});var n=a(22122),l=a(19756),o=(a(67294),a(3905)),i={sidebar_label:"Android Play Store"},r={unversionedId:"deployment/play-store",id:"deployment/play-store",isDocsHomePage:!1,title:"Android Play Store Deployment",description:"Generating a release build of an app",source:"@site/docs/deployment/play-store.md",sourceDirName:"deployment",slug:"/deployment/play-store",permalink:"/docs/deployment/play-store",editUrl:"https://github.com/ionic-team/ionic-docs/edit/main/docs/deployment/play-store.md",version:"current",sidebar_label:"Android Play Store",frontMatter:{sidebar_label:"Android Play Store"},sidebar:"docs",previous:{title:"iOS App Store Deployment",permalink:"/docs/deployment/app-store"},next:{title:"Deploying a Progressive Web App",permalink:"/docs/deployment/progressive-web-app"}},p=[{value:"Generating a release build of an app",id:"generating-a-release-build-of-an-app",children:[]},{value:"Signing an APK",id:"signing-an-apk",children:[]},{value:"Submitting an app to the Google Play Store",id:"submitting-an-app-to-the-google-play-store",children:[]},{value:"Updating an app",id:"updating-an-app",children:[]}],s={toc:p};function d(e){var t=e.components,i=(0,l.Z)(e,["components"]);return(0,o.kt)("wrapper",(0,n.Z)({},s,i,{components:t,mdxType:"MDXLayout"}),(0,o.kt)("h2",{id:"generating-a-release-build-of-an-app"},"Generating a release build of an app"),(0,o.kt)("p",null,"To generate a release build for Android, run the following cli command:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ ionic cordova build android --prod --release\n")),(0,o.kt)("p",null,"This will generate a release build based on the settings in the ",(0,o.kt)("inlineCode",{parentName:"p"},"config.xml")," in the ",(0,o.kt)("inlineCode",{parentName:"p"},"platforms/android/app/build/outputs/apk")," directory of an app.\nAn Ionic app will have preset default values in this file but this can be changed to customize builds."),(0,o.kt)("h2",{id:"signing-an-apk"},"Signing an APK"),(0,o.kt)("p",null,"First, the unsigned APK must be signed. If a signing key has already been generated, skip these steps and use that one instead.\nGenerate a private key using the keytool command that comes with the Android SDK:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ keytool -genkey -v -keystore my-release-key.keystore -alias alias_name -keyalg RSA -keysize 2048 -validity 10000\n")),(0,o.kt)("p",null,"Once that command has been ran and its prompts have been answered a file called ",(0,o.kt)("inlineCode",{parentName:"p"},"my-release-key.keystore")," will be created in the current directory."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"WARNING: Save this file and keep it somewhere safe. If it is lost the Google Play Store will not accept updates for this app!")),(0,o.kt)("p",null,"To sign the unsigned APK, run the jarsigner tool which is also included in the Android SDK:"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ jarsigner -verbose -sigalg SHA1withRSA -digestalg SHA1 -keystore my-release-key.keystore HelloWorld-release-unsigned.apk alias_name\n")),(0,o.kt)("p",null,"Finally, the zip align tool must be ran to optimize the APK.\nThe ",(0,o.kt)("inlineCode",{parentName:"p"},"zipalign")," tool can be found in ",(0,o.kt)("inlineCode",{parentName:"p"},"/path/to/Android/sdk/build-tools/VERSION/zipalign"),".\nFor example, on macOS with Android Studio installed, ",(0,o.kt)("inlineCode",{parentName:"p"},"zipalign")," is in ",(0,o.kt)("inlineCode",{parentName:"p"},"~/Library/Android/sdk/build-tools/VERSION/zipalign"),":"),(0,o.kt)("pre",null,(0,o.kt)("code",{parentName:"pre",className:"language-shell"},"$ zipalign -v 4 HelloWorld-release-unsigned.apk HelloWorld.apk\n")),(0,o.kt)("p",null,"This generates a final release binary called HelloWorld.apk that can be accepted into the Google Play Store."),(0,o.kt)("h2",{id:"submitting-an-app-to-the-google-play-store"},"Submitting an app to the Google Play Store"),(0,o.kt)("p",null,"Now that a release APK has been generated, a Play Store listing can be written and the APK can be uploaded."),(0,o.kt)("p",null,"To start, visit the ",(0,o.kt)("a",{parentName:"p",href:"https://play.google.com/apps/publish"},"Google Play Store Developer Console")," and create a new developer account."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"Making a developer account with Google Play costs $25 USD.")),(0,o.kt)("p",null,"Once a developer account has been created, go ahead and click the ",(0,o.kt)("inlineCode",{parentName:"p"},"Create an Application")),(0,o.kt)("p",null,(0,o.kt)("img",{alt:"Create an App button",src:a(63038).Z})),(0,o.kt)("p",null,"Be sure to fill out the description for the app along with providing screenshots and additional info.\nWhen ready, upload the signed release APK that was generated and publish the app."),(0,o.kt)("h2",{id:"updating-an-app"},"Updating an app"),(0,o.kt)("p",null,"As an app evolves, it will need to be updated with new features and fixes. An app can be updated by either submitting a new version to the Google Play Store, or by using a live update service like Appflow's Live Update feature. Using Live Updates, changes can be pushed directly to users from the Appflow dashboard, without submitting changes to the Play Store. Learn more about Live Updates ",(0,o.kt)("a",{href:"https://ionic.io/docs/appflow/deploy/intro",target:"_blank"},"here"),"."),(0,o.kt)("blockquote",null,(0,o.kt)("p",{parentName:"blockquote"},"In order for the Google Play Store to accept updated APKs, the config.xml file will need to be edited to increment the version value, then rebuild the app for release following the instructions above.")))}d.isMDXComponent=!0},63038:function(e,t,a){"use strict";t.Z=a.p+"assets/images/newAppGPlay-fc0da5dd2945933ae6da5030c359a9a6.png"}}]);